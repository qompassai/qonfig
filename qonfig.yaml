# qompassai/qonfig/qonfig.yaml
# Qompass AI Qonfig YAML
# Copyright (C) 2025 Qompass AI, All rights reserved
####################################################
- defaults:
    link:
      create: true
      relink: true
- clean: ["~", ~/.config]
- create: [~/Downloads]
- link:
    ~/.shell:
    ~/.bash_profile:
    ~/.bashrc_user: bashrc
    ~/.zprofile:
    ~/.zshrc_user: zshrc
    ~/.config/starship.toml: starship.toml
    ~/.gitconfig:
    ~/.gitconfig_work:
    ~/.gitignore_global:
    ~/.gitcommit:
    ~/.config/gh-dash/config.yml: gh_dash.yml
    ~/Taskfile.yml:
    ~/.config/ghostty/config:
      path: ghostty.conf
      force: true
    ~/.config/kitty/kitty.conf:
      force: true
    ~/.config/alacritty/alacritty.toml:
    ~/.tmux.conf:
    ~/.config/sesh/sesh.toml: sesh.toml
    ~/.config/aerospace/aerospace.toml:
      path: aerospace.toml
      if: '[ "$(uname -s)" = "Darwin" ]'
    ~/.config/yabai/yabairc:
      path: yabairc
      if: '[ "$(uname -s)" = "Darwin" ]'
    ~/.config/skhd/skhdrc:
      path: skhdrc
      if: '[ "$(uname -s)" = "Darwin" ]'
    ~/.config/diver:
      path: Diver
      force: true
    ~/.config/neovide/config.toml: neovide.toml
    ~/.config/zed/settings.json:
      path: zed.jsonc
      force: true
    ~/.cursor/mcp.json:
      path: mcpservers.json5
      force: true
- shell:
    - description: sync qonfig
      command: git submodule sync --recursive
    - description: add shell sourcing to bash, if not already added
      command: grep -qxF '[[ -s ~/.bashrc_user ]] && source ~/.bashrc_user' ~/.bashrc || echo '[[ -s ~/.bashrc_user ]] && source ~/.bashrc_user' >> ~/.bashrc
    - description: add shell sourcing to zsh, if not already added
      command: grep -qxF '[[ -s ~/.zshrc_user ]] && source ~/.zshrc_user' ~/.zshrc || echo '[[ -s ~/.zshrc_user ]] && source ~/.zshrc_user' >> ~/.zshrc
    - description: ssh setup
      command: |
        mkdir -p ~/.ssh && chmod 700 ~/.ssh
        touch ~/.ssh/known_hosts && chmod 644 ~/.ssh/known_hosts
        touch ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys
    - description: pre-commit hook
      command: cp pre-commit .git/hooks/pre-commit
